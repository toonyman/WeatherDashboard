<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>ì‹¤ì‹œê°„ ë‚ ì”¨ & ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‹œë³´ë“œ | í˜„ì¬ ë‚ ì”¨ì™€ ëŒ€ê¸°ì§ˆ ì •ë³´</title>
    <meta name="title" content="ì‹¤ì‹œê°„ ë‚ ì”¨ & ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‹œë³´ë“œ | í˜„ì¬ ë‚ ì”¨ì™€ ëŒ€ê¸°ì§ˆ ì •ë³´">
    <meta name="description"
        content="ì‹¤ì‹œê°„ ë‚ ì”¨, ë¯¸ì„¸ë¨¼ì§€, ì´ˆë¯¸ì„¸ë¨¼ì§€ ì •ë³´ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”. í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ ë‚ ì”¨ ì •ë³´, ëŒ€ê¸°ì§ˆ ì§€ìˆ˜(AQI), ë§ì¶¤í˜• ê±´ê°• ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤.">
    <meta name="keywords" content="ë‚ ì”¨, ë¯¸ì„¸ë¨¼ì§€, ì´ˆë¯¸ì„¸ë¨¼ì§€, ëŒ€ê¸°ì§ˆ, AQI, ì‹¤ì‹œê°„ ë‚ ì”¨, ë‚ ì”¨ ì •ë³´, ê¸°ìƒì •ë³´, ê³µê¸°ì§ˆ, PM10, PM2.5, ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ">
    <meta name="author" content="Weather Dashboard">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Korean">
    <meta name="revisit-after" content="1 days">

    <!-- Google Site Verification -->
    <meta name="google-site-verification" content="OAv4N25-_EylIfm5Jo5lZ5ldSv2O8fp0g8ipHl3tulQ">

    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-7644009675634803">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7644009675634803"
        crossorigin="anonymous"></script>


    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://weather-dash-board-one.vercel.app/">
    <meta property="og:title" content="ì‹¤ì‹œê°„ ë‚ ì”¨ & ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‹œë³´ë“œ">
    <meta property="og:description" content="ì‹¤ì‹œê°„ ë‚ ì”¨, ë¯¸ì„¸ë¨¼ì§€, ì´ˆë¯¸ì„¸ë¨¼ì§€ ì •ë³´ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”. í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ ë‚ ì”¨ ì •ë³´ì™€ ë§ì¶¤í˜• ê±´ê°• ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤.">
    <meta property="og:image" content="https://weather-dash-board-one.vercel.app/og-image.png">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="ë‚ ì”¨ & ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‹œë³´ë“œ">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://weather-dash-board-one.vercel.app/">
    <meta property="twitter:title" content="ì‹¤ì‹œê°„ ë‚ ì”¨ & ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‹œë³´ë“œ">
    <meta property="twitter:description" content="ì‹¤ì‹œê°„ ë‚ ì”¨, ë¯¸ì„¸ë¨¼ì§€, ì´ˆë¯¸ì„¸ë¨¼ì§€ ì •ë³´ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.">
    <meta property="twitter:image" content="https://weather-dash-board-one.vercel.app/og-image.png">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://weather-dash-board-one.vercel.app/">

    <!-- Favicon -->
    <link rel="icon" type="image/png"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ¤ï¸</text></svg>">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ë‚ ì”¨ & ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‹œë³´ë“œ",
      "description": "ì‹¤ì‹œê°„ ë‚ ì”¨, ë¯¸ì„¸ë¨¼ì§€, ì´ˆë¯¸ì„¸ë¨¼ì§€ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜",
      "url": "https://weather-dash-board-one.vercel.app/",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "featureList": [
        "ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´",
        "ë¯¸ì„¸ë¨¼ì§€(PM10) ì¸¡ì •",
        "ì´ˆë¯¸ì„¸ë¨¼ì§€(PM2.5) ì¸¡ì •",
        "ëŒ€ê¸°ì§ˆ ì§€ìˆ˜(AQI)",
        "ìœ„ì¹˜ ê¸°ë°˜ ì •ë³´",
        "ë‚ ì”¨ë³„ ë§ì¶¤ ì¡°ì–¸"
      ],
      "inLanguage": "ko-KR",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }


        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.2rem;
            color: #555;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title .icon {
            font-size: 1.5rem;
        }

        .weather-main {
            text-align: center;
            margin: 20px 0;
        }

        .temperature {
            font-size: 4rem;
            font-weight: bold;
            color: #667eea;
        }

        .weather-description {
            font-size: 1.3rem;
            color: #666;
            margin-top: 10px;
            text-transform: capitalize;
        }

        .weather-icon {
            font-size: 5rem;
            margin: 20px 0;
        }

        .weather-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .detail-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }

        .detail-label {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
        }

        .air-quality {
            text-align: center;
        }

        .aqi-value {
            font-size: 3.5rem;
            font-weight: bold;
            margin: 20px 0;
        }

        .aqi-good {
            color: #00c851;
        }

        .aqi-moderate {
            color: #ffbb33;
        }

        .aqi-unhealthy {
            color: #ff4444;
        }

        .aqi-very-unhealthy {
            color: #cc0000;
        }

        .aqi-label {
            font-size: 1.2rem;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            color: white;
            margin-bottom: 20px;
        }

        .pm-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: white;
            font-size: 1.2rem;
        }

        .error {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            color: #cc0000;
        }

        .location {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            text-align: center;
        }

        .location h2 {
            color: #667eea;
            font-size: 1.8rem;
            margin: 0;
            display: inline-block;
        }

        .location .refresh-btn {
            position: absolute;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
        }

        .refresh-btn {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .refresh-btn:hover {
            background: #667eea;
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .location .refresh-btn:hover {
            transform: translateY(-50%);
        }

        .info-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
            white-space: nowrap;
        }

        .info-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translate(-50%, -40%);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .modal-content {
            background: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .modal-header h2 {
            color: #667eea;
            font-size: 1.5rem;
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #999;
            transition: color 0.3s ease;
            line-height: 1;
        }

        .close-btn:hover {
            color: #333;
        }

        .advice-section {
            margin-bottom: 20px;
        }

        .advice-section h3 {
            color: #555;
            font-size: 1.1rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .advice-list {
            list-style: none;
            padding: 0;
        }

        .advice-list li {
            background: #f8f9fa;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            font-size: 0.95rem;
            color: #333;
        }

        .advice-list li::before {
            content: "âœ“ ";
            color: #667eea;
            font-weight: bold;
            margin-right: 5px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            .temperature {
                font-size: 3rem;
            }

            .weather-details {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 20px;
                width: 95%;
            }

            .modal-header h2 {
                font-size: 1.3rem;
            }

            .card-header {
                flex-wrap: wrap;
                gap: 10px;
            }

            .info-btn {
                font-size: 0.8rem;
                padding: 6px 12px;
            }

            .location {
                padding: 20px;
                text-align: center;
            }

            .location h2 {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }

            .location .refresh-btn {
                position: static;
                transform: none;
                display: block;
                width: 100%;
                padding: 12px 20px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸŒ¤ï¸ ë‚ ì”¨ & ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‹œë³´ë“œ</h1>
            <p>ì‹¤ì‹œê°„ ë‚ ì”¨ì™€ ëŒ€ê¸°ì§ˆ ì •ë³´ë¥¼ í•œëˆˆì—</p>
        </header>


        <div id="location" class="location" style="display: none;" role="region" aria-label="ìœ„ì¹˜ ì •ë³´">
            <h2 id="locationName"></h2>
            <button class="refresh-btn" onclick="refreshData()" aria-label="ë‚ ì”¨ ì •ë³´ ìƒˆë¡œê³ ì¹¨">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
        </div>

        <div id="loading" class="loading" role="status" aria-live="polite">
            <p>ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>
        </div>

        <div id="error" style="display: none;" role="alert" aria-live="assertive"></div>

        <main id="dashboard" class="dashboard" style="display: none;" role="main">
            <!-- ë‚ ì”¨ ì •ë³´ ì¹´ë“œ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">ğŸŒ¡ï¸</span>
                        <span>í˜„ì¬ ë‚ ì”¨</span>
                    </div>
                    <button class="info-btn" onclick="showWeatherAdvice()">ğŸ’¡ ë§ì¶¤ ì¡°ì–¸</button>
                </div>
                <div class="weather-main">
                    <div class="weather-icon" id="weatherIcon"></div>
                    <div class="temperature" id="temperature"></div>
                    <div class="weather-description" id="description"></div>
                </div>
                <div class="weather-details">
                    <div class="detail-item">
                        <div class="detail-label">ì²´ê°ì˜¨ë„</div>
                        <div class="detail-value" id="feelsLike"></div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ìŠµë„</div>
                        <div class="detail-value" id="humidity"></div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">í’ì†</div>
                        <div class="detail-value" id="windSpeed"></div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ê¸°ì••</div>
                        <div class="detail-value" id="pressure"></div>
                    </div>
                </div>
            </div>

            <!-- ë¯¸ì„¸ë¨¼ì§€ ì •ë³´ ì¹´ë“œ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">ğŸ’¨</span>
                        <span>ëŒ€ê¸°ì§ˆ ì •ë³´</span>
                    </div>
                    <button class="info-btn" onclick="showAirQualityAdvice()">ğŸ’¡ ë§ì¶¤ ì¡°ì–¸</button>
                </div>
                <div class="air-quality">
                    <div class="aqi-value" id="aqiValue"></div>
                    <div class="aqi-label" id="aqiLabel"></div>
                    <div class="pm-details">
                        <div class="detail-item">
                            <div class="detail-label">ë¯¸ì„¸ë¨¼ì§€ (PM10)</div>
                            <div class="detail-value" id="pm10"></div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">ì´ˆë¯¸ì„¸ë¨¼ì§€ (PM2.5)</div>
                            <div class="detail-value" id="pm25"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>


        <!-- ë‚ ì”¨ ëŒ€ì‘ë²• ëª¨ë‹¬ -->
        <div id="weatherModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>â˜€ï¸ ë‚ ì”¨ ëŒ€ì‘ë²•</h2>
                    <button class="close-btn" onclick="closeWeatherModal()">&times;</button>
                </div>
                <div id="weatherAdviceContent"></div>
            </div>
        </div>

        <!-- ëŒ€ê¸°ì§ˆ ëŒ€ì‘ë²• ëª¨ë‹¬ -->
        <div id="airQualityModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ğŸ’¨ ëŒ€ê¸°ì§ˆ ëŒ€ì‘ë²•</h2>
                    <button class="close-btn" onclick="closeAirQualityModal()">&times;</button>
                </div>
                <div id="airQualityAdviceContent"></div>
            </div>
        </div>
    </div>

    <script>
        const OPENWEATHER_API_KEY = '997af67b73ea52a1367472490239dbdb'; // OpenWeatherMap API í‚¤

        // í˜„ì¬ ë‚ ì”¨ ë° ëŒ€ê¸°ì§ˆ ë°ì´í„° ì €ì¥
        let currentWeatherData = null;
        let currentAirQualityData = null;

        // ë‚ ì”¨ ì•„ì´ì½˜ ë§¤í•‘
        const weatherIcons = {
            '01d': 'â˜€ï¸', '01n': 'ğŸŒ™',
            '02d': 'â›…', '02n': 'â˜ï¸',
            '03d': 'â˜ï¸', '03n': 'â˜ï¸',
            '04d': 'â˜ï¸', '04n': 'â˜ï¸',
            '09d': 'ğŸŒ§ï¸', '09n': 'ğŸŒ§ï¸',
            '10d': 'ğŸŒ¦ï¸', '10n': 'ğŸŒ§ï¸',
            '11d': 'â›ˆï¸', '11n': 'â›ˆï¸',
            '13d': 'â„ï¸', '13n': 'â„ï¸',
            '50d': 'ğŸŒ«ï¸', '50n': 'ğŸŒ«ï¸'
        };

        async function getWeatherData(lat, lon) {
            const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${OPENWEATHER_API_KEY}&units=metric&lang=kr`;
            const response = await fetch(url);
            if (!response.ok) throw new Error('ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            return await response.json();
        }

        async function getAirQualityData(lat, lon) {
            const url = `https://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${lon}&appid=${OPENWEATHER_API_KEY}`;
            const response = await fetch(url);
            if (!response.ok) throw new Error('ëŒ€ê¸°ì§ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            return await response.json();
        }

        function getAQIInfo(aqi) {
            const levels = {
                1: { label: 'ì¢‹ìŒ', class: 'aqi-good', color: '#00c851' },
                2: { label: 'ë³´í†µ', class: 'aqi-moderate', color: '#ffbb33' },
                3: { label: 'ë‚˜ì¨', class: 'aqi-unhealthy', color: '#ff4444' },
                4: { label: 'ë§¤ìš° ë‚˜ì¨', class: 'aqi-very-unhealthy', color: '#cc0000' },
                5: { label: 'ìµœì•…', class: 'aqi-very-unhealthy', color: '#990000' }
            };
            return levels[aqi] || levels[3];
        }

        function displayWeatherData(data) {
            currentWeatherData = data; // ì „ì—­ ë³€ìˆ˜ì— ì €ì¥
            const iconCode = data.weather[0].icon;
            document.getElementById('weatherIcon').textContent = weatherIcons[iconCode] || 'ğŸŒ¤ï¸';
            document.getElementById('temperature').textContent = `${Math.round(data.main.temp)}Â°C`;
            document.getElementById('description').textContent = data.weather[0].description;
            document.getElementById('feelsLike').textContent = `${Math.round(data.main.feels_like)}Â°C`;
            document.getElementById('humidity').textContent = `${data.main.humidity}%`;
            document.getElementById('windSpeed').textContent = `${data.wind.speed} m/s`;
            document.getElementById('pressure').textContent = `${data.main.pressure} hPa`;
            document.getElementById('locationName').textContent = data.name;
        }

        function displayAirQualityData(data) {
            currentAirQualityData = data; // ì „ì—­ ë³€ìˆ˜ì— ì €ì¥
            const aqi = data.list[0].main.aqi;
            const components = data.list[0].components;
            const aqiInfo = getAQIInfo(aqi);

            document.getElementById('aqiValue').textContent = aqi;
            document.getElementById('aqiValue').className = `aqi-value ${aqiInfo.class}`;

            const aqiLabel = document.getElementById('aqiLabel');
            aqiLabel.textContent = aqiInfo.label;
            aqiLabel.style.background = aqiInfo.color;

            document.getElementById('pm10').textContent = `${Math.round(components.pm10)} Î¼g/mÂ³`;
            document.getElementById('pm25').textContent = `${Math.round(components.pm2_5)} Î¼g/mÂ³`;
        }

        async function loadData(lat, lon) {
            try {
                document.getElementById('loading').style.display = 'block';
                document.getElementById('error').style.display = 'none';
                document.getElementById('dashboard').style.display = 'none';

                const [weatherData, airQualityData] = await Promise.all([
                    getWeatherData(lat, lon),
                    getAirQualityData(lat, lon)
                ]);

                displayWeatherData(weatherData);
                displayAirQualityData(airQualityData);

                document.getElementById('loading').style.display = 'none';
                document.getElementById('location').style.display = 'block';
                document.getElementById('dashboard').style.display = 'grid';
            } catch (error) {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('error').style.display = 'block';
                document.getElementById('error').innerHTML = `
                    <div class="error">
                        <h2>âš ï¸ ì˜¤ë¥˜ ë°œìƒ</h2>
                        <p>${error.message}</p>
                        <p style="margin-top: 15px; font-size: 0.9rem; color: #666;">
                            OpenWeatherMap API í‚¤ë¥¼ ì„¤ì •í–ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.
                        </p>
                    </div>
                `;
            }
        }

        function refreshData() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        loadData(position.coords.latitude, position.coords.longitude);
                    },
                    error => {
                        // ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ëŠ” ê²½ìš° ì„œìš¸ ê¸°ë³¸ê°’ ì‚¬ìš©
                        loadData(37.5665, 126.9780);
                    }
                );
            } else {
                loadData(37.5665, 126.9780); // ì„œìš¸ ê¸°ë³¸ê°’
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰
        window.onload = refreshData;

        // ë‚ ì”¨ ëŒ€ì‘ë²• í‘œì‹œ
        function showWeatherAdvice() {
            if (!currentWeatherData) return;

            const temp = currentWeatherData.main.temp;
            const weatherMain = currentWeatherData.weather[0].main.toLowerCase();
            const humidity = currentWeatherData.main.humidity;
            const windSpeed = currentWeatherData.wind.speed;

            let adviceHTML = '';

            // ì˜¨ë„ë³„ ëŒ€ì‘ë²•
            if (temp >= 33) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸŒ¡ï¸ í­ì—¼ ì£¼ì˜</h3>
                        <ul class="advice-list">
                            <li>ì˜¤í›„ 12ì‹œ~5ì‹œ ì‚¬ì´ ì™¸ì¶œì„ ìì œí•˜ì„¸ìš”</li>
                            <li>ì¶©ë¶„í•œ ìˆ˜ë¶„ì„ ì„­ì·¨í•˜ì„¸ìš” (1.5~2L/ì¼)</li>
                            <li>ì‹œì›í•œ ë¬¼ë¡œ ìƒ¤ì›Œí•˜ê³  ì–‡ì€ ì˜·ì„ ì…ìœ¼ì„¸ìš”</li>
                            <li>ì–´ì§€ëŸ¼ì¦ì´ë‚˜ ë‘í†µì´ ìˆë‹¤ë©´ ì¦‰ì‹œ ê·¸ëŠ˜ë¡œ ì´ë™í•˜ì„¸ìš”</li>
                            <li>ë…¸ì•½ìì™€ ì–´ë¦°ì´ëŠ” íŠ¹íˆ ì£¼ì˜í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (temp >= 28) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>â˜€ï¸ ë”ìš´ ë‚ ì”¨</h3>
                        <ul class="advice-list">
                            <li>ê°€ë²¼ìš´ ì˜·ì„ ì…ê³  ëª¨ìë¥¼ ì°©ìš©í•˜ì„¸ìš”</li>
                            <li>ë¬¼ì„ ìì£¼ ë§ˆì‹œì„¸ìš”</li>
                            <li>í–‡ë¹›ì´ ê°•í•œ ì‹œê°„ëŒ€ì—ëŠ” ì„ í¬ë¦¼ì„ ë°”ë¥´ì„¸ìš”</li>
                            <li>ì—ì–´ì»¨ ì‚¬ìš© ì‹œ ì ì • ì˜¨ë„(26~28Â°C)ë¥¼ ìœ ì§€í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (temp >= 20) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸŒ¤ï¸ ì¾Œì í•œ ë‚ ì”¨</h3>
                        <ul class="advice-list">
                            <li>ì•¼ì™¸ í™œë™í•˜ê¸° ì¢‹ì€ ë‚ ì”¨ì…ë‹ˆë‹¤</li>
                            <li>ê°€ë²¼ìš´ ê²‰ì˜·ì„ ì¤€ë¹„í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤</li>
                            <li>ì‚°ì±…ì´ë‚˜ ìš´ë™ì„ ì¦ê²¨ë³´ì„¸ìš”</li>
                            <li>í™˜ê¸°ë¥¼ ìì£¼ í•´ì£¼ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (temp >= 10) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ‚ ì„ ì„ í•œ ë‚ ì”¨</h3>
                        <ul class="advice-list">
                            <li>ì–‡ì€ ì™¸íˆ¬ë¥¼ ì¤€ë¹„í•˜ì„¸ìš”</li>
                            <li>ì¼êµì°¨ê°€ í° ê³„ì ˆì´ë‹ˆ ì²´ì˜¨ ì¡°ì ˆì— ìœ ì˜í•˜ì„¸ìš”</li>
                            <li>ë”°ëœ»í•œ ì°¨ë¥¼ ë§ˆì‹œë©° íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”</li>
                            <li>ê°ê¸° ì˜ˆë°©ì„ ìœ„í•´ ì†ì„ ìì£¼ ì”»ìœ¼ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (temp >= 0) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ§¥ ì¶”ìš´ ë‚ ì”¨</h3>
                        <ul class="advice-list">
                            <li>ë”°ëœ»í•œ ì™¸íˆ¬ì™€ ëª©ë„ë¦¬ë¥¼ ì°©ìš©í•˜ì„¸ìš”</li>
                            <li>ì‹¤ë‚´ì™¸ ì˜¨ë„ì°¨ë¡œ ì¸í•œ ê°ê¸°ë¥¼ ì¡°ì‹¬í•˜ì„¸ìš”</li>
                            <li>ë”°ëœ»í•œ ìŒë£Œë¥¼ ìì£¼ ë§ˆì‹œì„¸ìš”</li>
                            <li>ë…¸ì•½ìëŠ” ì™¸ì¶œ ì‹œ íŠ¹íˆ ì£¼ì˜í•˜ì„¸ìš”</li>
                            <li>ë‚œë°©ê¸° ì‚¬ìš© ì‹œ í™˜ê¸°ë¥¼ ìŠì§€ ë§ˆì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>â„ï¸ í•œíŒŒ ì£¼ì˜</h3>
                        <ul class="advice-list">
                            <li>ì™¸ì¶œ ì‹œ ë°©í•œë³µ, ì¥ê°‘, ëª¨ìë¥¼ ë°˜ë“œì‹œ ì°©ìš©í•˜ì„¸ìš”</li>
                            <li>ë™ìƒ ì˜ˆë°©ì„ ìœ„í•´ ë…¸ì¶œ ë¶€ìœ„ë¥¼ ìµœì†Œí™”í•˜ì„¸ìš”</li>
                            <li>ìˆ˜ë„ê´€ ë™íŒŒë¥¼ ë°©ì§€í•˜ì„¸ìš”</li>
                            <li>í˜ˆê´€ì§ˆí™˜ìëŠ” ì™¸ì¶œì„ ìì œí•˜ì„¸ìš”</li>
                            <li>ë³´ì¼ëŸ¬ ì•ˆì „ì ê²€ì„ í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            }

            // ë‚ ì”¨ ìƒíƒœë³„ ëŒ€ì‘ë²•
            if (weatherMain.includes('rain') || weatherMain.includes('drizzle')) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸŒ§ï¸ ë¹„ ì˜¤ëŠ” ë‚ </h3>
                        <ul class="advice-list">
                            <li>ìš°ì‚°ì„ ê¼­ ì±™ê¸°ì„¸ìš”</li>
                            <li>ë¯¸ë„ëŸ¬ìš´ ê¸¸ì„ ì¡°ì‹¬í•˜ì„¸ìš”</li>
                            <li>ë°©ìˆ˜ ì‹ ë°œì„ ì°©ìš©í•˜ì„¸ìš”</li>
                            <li>ìš´ì „ ì‹œ ì‹œì•¼ í™•ë³´ì— ì£¼ì˜í•˜ì„¸ìš”</li>
                            <li>ì²œë‘¥ë²ˆê°œê°€ ì¹  ë•ŒëŠ” ë†’ì€ ê³³ì´ë‚˜ ë‚˜ë¬´ ì•„ë˜ë¥¼ í”¼í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (weatherMain.includes('snow')) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>â›„ ëˆˆ ì˜¤ëŠ” ë‚ </h3>
                        <ul class="advice-list">
                            <li>ë¯¸ë„ëŸ¼ ë°©ì§€ ì‹ ë°œì„ ì°©ìš©í•˜ì„¸ìš”</li>
                            <li>ë³´í­ì„ ì¢ê²Œ ê±¸ìœ¼ì„¸ìš”</li>
                            <li>ìš´ì „ ì‹œ ì²´ì¸ì„ ì¤€ë¹„í•˜ê³  ì†ë„ë¥¼ ì¤„ì´ì„¸ìš”</li>
                            <li>ì£¼ì°¨ëœ ì°¨ëŸ‰ì˜ ëˆˆì„ ë¯¸ë¦¬ ì¹˜ì›Œë‘ì„¸ìš”</li>
                            <li>ë‚™ìƒ ì‚¬ê³ ì— íŠ¹íˆ ì£¼ì˜í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (weatherMain.includes('thunderstorm')) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>âš¡ ì²œë‘¥ë²ˆê°œ</h3>
                        <ul class="advice-list">
                            <li>ê°€ëŠ¥í•œ ì‹¤ë‚´ë¡œ ëŒ€í”¼í•˜ì„¸ìš”</li>
                            <li>ë‚˜ë¬´ë‚˜ ì „ë´‡ëŒ€ ì•„ë˜ë¥¼ í”¼í•˜ì„¸ìš”</li>
                            <li>ê¸ˆì† ë¬¼ì²´ë¥¼ ë§Œì§€ì§€ ë§ˆì„¸ìš”</li>
                            <li>ì „ìì œí’ˆì˜ í”ŒëŸ¬ê·¸ë¥¼ ë½‘ì•„ë‘ì„¸ìš”</li>
                            <li>ë‚®ì€ ìì„¸ë¥¼ ì·¨í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            }

            // ìŠµë„ë³„ ëŒ€ì‘ë²•
            if (humidity >= 70) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ’§ ë†’ì€ ìŠµë„</h3>
                        <ul class="advice-list">
                            <li>ì œìŠµê¸°ë‚˜ ì—ì–´ì»¨ì„ ì‚¬ìš©í•˜ì„¸ìš”</li>
                            <li>í†µí’ì´ ì˜ ë˜ëŠ” ì˜·ì„ ì…ìœ¼ì„¸ìš”</li>
                            <li>ê³°íŒ¡ì´ ì˜ˆë°©ì„ ìœ„í•´ í™˜ê¸°í•˜ì„¸ìš”</li>
                            <li>ìŒì‹ë¬¼ ê´€ë¦¬ì— ì£¼ì˜í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (humidity <= 30) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸœï¸ ë‚®ì€ ìŠµë„ (ê±´ì¡°)</h3>
                        <ul class="advice-list">
                            <li>ê°€ìŠµê¸°ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì –ì€ ë¹¨ë˜ë¥¼ ë„ì–´ë‘ì„¸ìš”</li>
                            <li>ë¬¼ì„ ìì£¼ ë§ˆì‹œì„¸ìš”</li>
                            <li>í”¼ë¶€ ë³´ìŠµì— ì‹ ê²½ ì“°ì„¸ìš”</li>
                            <li>ì‹¤ë‚´ ì‹ë¬¼ì„ í‚¤ìš°ëŠ” ê²ƒë„ ë„ì›€ì´ ë©ë‹ˆë‹¤</li>
                            <li>ì •ì „ê¸° ë°©ì§€ì— ìœ ì˜í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            }

            // ê°•í’
            if (windSpeed >= 10) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ’¨ ê°•í’ ì£¼ì˜</h3>
                        <ul class="advice-list">
                            <li>ê°„íŒì´ë‚˜ ë‚™í•˜ë¬¼ì„ ì¡°ì‹¬í•˜ì„¸ìš”</li>
                            <li>ìš°ì‚° ì‚¬ìš©ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                            <li>ì™¸ë¶€ ë¬¼ê±´ì„ ê³ ì •í•˜ê±°ë‚˜ ì‹¤ë‚´ë¡œ ì˜®ê¸°ì„¸ìš”</li>
                            <li>ê³ ì¸µ ê±´ë¬¼ì´ë‚˜ í•´ì•ˆê°€ëŠ” í”¼í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            }

            document.getElementById('weatherAdviceContent').innerHTML = adviceHTML;
            document.getElementById('weatherModal').style.display = 'block';
        }

        // ëŒ€ê¸°ì§ˆ ëŒ€ì‘ë²• í‘œì‹œ
        function showAirQualityAdvice() {
            if (!currentAirQualityData) return;

            const aqi = currentAirQualityData.list[0].main.aqi;
            const components = currentAirQualityData.list[0].components;
            const pm10 = Math.round(components.pm10);
            const pm25 = Math.round(components.pm2_5);

            let adviceHTML = '';

            // AQI ë ˆë²¨ë³„ ëŒ€ì‘ë²•
            if (aqi === 1) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ˜Š ì¢‹ìŒ (AQI ${aqi})</h3>
                        <ul class="advice-list">
                            <li>ì•¼ì™¸ í™œë™í•˜ê¸° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤</li>
                            <li>ì°½ë¬¸ì„ ì—´ì–´ í™˜ê¸°í•˜ì„¸ìš”</li>
                            <li>ì‚°ì±…ì´ë‚˜ ìš´ë™ì„ ì¦ê²¨ë³´ì„¸ìš”</li>
                            <li>íŠ¹ë³„í•œ ì£¼ì˜ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤</li>
                        </ul>
                    </div>
                `;
            } else if (aqi === 2) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ™‚ ë³´í†µ (AQI ${aqi})</h3>
                        <ul class="advice-list">
                            <li>ì¼ë°˜ì ì¸ ì•¼ì™¸ í™œë™ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤</li>
                            <li>í˜¸í¡ê¸° ì§ˆí™˜ìëŠ” ì¥ì‹œê°„ ì™¸ì¶œ ì‹œ ì£¼ì˜í•˜ì„¸ìš”</li>
                            <li>í™˜ê¸°ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ ì¥ì‹œê°„ì€ í”¼í•˜ì„¸ìš”</li>
                            <li>íŠ¹ë³„íˆ ë¯¼ê°í•œ ê·¸ë£¹ì€ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤</li>
                        </ul>
                    </div>
                `;
            } else if (aqi === 3) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ˜· ë‚˜ì¨ (AQI ${aqi})</h3>
                        <ul class="advice-list">
                            <li>ì™¸ì¶œ ì‹œ ë³´ê±´ìš© ë§ˆìŠ¤í¬(KF80 ì´ìƒ)ë¥¼ ì°©ìš©í•˜ì„¸ìš”</li>
                            <li>ì¥ì‹œê°„ ì•¼ì™¸ í™œë™ì„ ìì œí•˜ì„¸ìš”</li>
                            <li>í˜¸í¡ê¸°Â·ì‹¬í˜ˆê´€ ì§ˆí™˜ì, ì–´ë¦°ì´, ë…¸ì•½ìëŠ” ì™¸ì¶œì„ ì‚¼ê°€ì„¸ìš”</li>
                            <li>ì‹¤ë‚´ ê³µê¸°ì²­ì •ê¸°ë¥¼ ê°€ë™í•˜ì„¸ìš”</li>
                            <li>ë¬¼ì„ ì¶©ë¶„íˆ ë§ˆì‹œì„¸ìš”</li>
                            <li>ì°½ë¬¸ì„ ë‹«ê³  ì™¸ì¶œ í›„ ì†ë°œì„ ê¹¨ë—ì´ ì”»ìœ¼ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (aqi === 4) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>ğŸ˜¨ ë§¤ìš° ë‚˜ì¨ (AQI ${aqi})</h3>
                        <ul class="advice-list">
                            <li>ê°€ê¸‰ì  ì™¸ì¶œì„ ìì œí•˜ì„¸ìš”</li>
                            <li>ì™¸ì¶œ ì‹œ KF94 ì´ìƒ ë§ˆìŠ¤í¬ë¥¼ ë°˜ë“œì‹œ ì°©ìš©í•˜ì„¸ìš”</li>
                            <li>ëª¨ë“  ì‹¤ì™¸ í™œë™ì„ ì¤‘ë‹¨í•˜ì„¸ìš”</li>
                            <li>í˜¸í¡ê¸°Â·ì‹¬í˜ˆê´€ ì§ˆí™˜ìëŠ” ì‹¤ì™¸ í™œë™ì„ ê¸ˆì§€í•˜ì„¸ìš”</li>
                            <li>ì°½ë¬¸ì„ ì™„ì „íˆ ë‹«ê³  ê³µê¸°ì²­ì •ê¸°ë¥¼ ìµœëŒ€ë¡œ ê°€ë™í•˜ì„¸ìš”</li>
                            <li>ê·€ê°€ í›„ ì¦‰ì‹œ ìƒ¤ì›Œí•˜ê³  ì˜·ì„ ê°ˆì•„ì…ìœ¼ì„¸ìš”</li>
                            <li>ê³¼ì¼ê³¼ ì±„ì†Œë¥¼ ì¶©ë¶„íˆ ì„­ì·¨í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            } else if (aqi === 5) {
                adviceHTML += `
                    <div class="advice-section">
                        <h3>â˜ ï¸ ìœ„í—˜ (AQI ${aqi})</h3>
                        <ul class="advice-list">
                            <li>ì™¸ì¶œì„ ì ˆëŒ€ ì‚¼ê°€ì„¸ìš”</li>
                            <li>ë¶ˆê°€í”¼í•œ ì™¸ì¶œ ì‹œ KF94 ë§ˆìŠ¤í¬ í•„ìˆ˜ ì°©ìš©</li>
                            <li>ëª¨ë“  ì‹¤ì™¸ í™œë™ì„ ì¦‰ì‹œ ì¤‘ë‹¨í•˜ì„¸ìš”</li>
                            <li>ì–´ë¦°ì´, ë…¸ì•½ì, í™˜ìëŠ” ì‹¤ë‚´ì—ë§Œ ë¨¸ë¬´ì„¸ìš”</li>
                            <li>ê³µê¸°ì²­ì •ê¸°ë¥¼ ìµœëŒ€ë¡œ ê°€ë™í•˜ì„¸ìš”</li>
                            <li>ê±´ê°• ì´ìƒ ì‹œ ì¦‰ì‹œ ë³‘ì›ì„ ë°©ë¬¸í•˜ì„¸ìš”</li>
                            <li>ìˆ˜ë¶„ì„ ì¶©ë¶„íˆ ì„­ì·¨í•˜ì„¸ìš”</li>
                        </ul>
                    </div>
                `;
            }

            // ë¯¸ì„¸ë¨¼ì§€ ìˆ˜ì¹˜ë³„ ì¶”ê°€ ì •ë³´
            adviceHTML += `
                <div class="advice-section">
                    <h3>ğŸ“Š í˜„ì¬ ìˆ˜ì¹˜ ì •ë³´</h3>
                    <ul class="advice-list">
                        <li>PM10 (ë¯¸ì„¸ë¨¼ì§€): ${pm10} Î¼g/mÂ³</li>
                        <li>PM2.5 (ì´ˆë¯¸ì„¸ë¨¼ì§€): ${pm25} Î¼g/mÂ³</li>
                    </ul>
                </div>
            `;

            // ì¼ë°˜ì ì¸ ë¯¸ì„¸ë¨¼ì§€ ëŒ€ì‘ë²•
            adviceHTML += `
                <div class="advice-section">
                    <h3>ğŸ’¡ ì¼ë°˜ ëŒ€ì‘ ìˆ˜ì¹™</h3>
                    <ul class="advice-list">
                        <li>ì™¸ì¶œ í›„ì—ëŠ” ì†, ë°œ, ì–¼êµ´ì„ ê¹¨ë—ì´ ì”»ìœ¼ì„¸ìš”</li>
                        <li>ë¬¼ê³¼ ë¹„íƒ€ë¯¼Cê°€ í’ë¶€í•œ ê³¼ì¼ì„ ì„­ì·¨í•˜ì„¸ìš”</li>
                        <li>ëŒ€ê¸°ì˜¤ì—¼ì´ ì‹¬í•œ ë„ë¡œë³€, ê³µì‚¬ì¥ì€ í”¼í•˜ì„¸ìš”</li>
                        <li>ëŒ€ì¤‘êµí†µ ì´ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤</li>
                        <li>ì‹¤ë‚´ ë¬¼ì²­ì†Œë¥¼ ìì£¼ í•˜ì„¸ìš”</li>
                    </ul>
                </div>
            `;

            document.getElementById('airQualityAdviceContent').innerHTML = adviceHTML;
            document.getElementById('airQualityModal').style.display = 'block';
        }

        // ëª¨ë‹¬ ë‹«ê¸°
        function closeWeatherModal() {
            document.getElementById('weatherModal').style.display = 'none';
        }

        function closeAirQualityModal() {
            document.getElementById('airQualityModal').style.display = 'none';
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function (event) {
            const weatherModal = document.getElementById('weatherModal');
            const airQualityModal = document.getElementById('airQualityModal');

            if (event.target === weatherModal) {
                closeWeatherModal();
            }
            if (event.target === airQualityModal) {
                closeAirQualityModal();
            }
        }
    </script>
</body>